# 푸시 알림 기능 테스트 가이드

## 🚀 빠른 테스트 방법

### 1. 서버 실행
```bash
venv\Scripts\python.exe app.py
```

### 2. 브라우저에서 테스트
1. **접속**: `http://localhost:5001`
2. **자동 리다이렉트**: `/login` 페이지로 이동됨
3. **회원가입**: `/signup` 페이지에서 계정 생성
4. **로그인**: `/login` 페이지에서 로그인
5. **메인 페이지**: `/main`으로 이동하면 푸시 알림 모달 표시

### 3. 테스트 계정 (MongoDB 없을 때)
- **아이디**: `test`
- **비밀번호**: `password`

### 4. 푸시 알림 테스트 단계
1. **로그인 성공**: 토큰이 localStorage에 저장됨
2. **메인 페이지 접속**: 푸시 알림 모달이 나타남
3. **알림 허용**: "허용" 버튼 클릭
4. **브라우저 권한**: 알림 권한 요청 승인
5. **구독 완료**: 콘솔에 "알림 구독이 성공적으로 완료되었습니다." 메시지

### 5. 관리자 알림 발송 테스트
```bash
# PowerShell에서
Invoke-WebRequest -Uri "http://localhost:5001/api/push/send-inactive" -Method POST -Headers @{"Authorization"="Bearer test-admin-secret-key-123"; "Content-Type"="application/json"} -Body '{"days": 0, "title": "테스트 알림", "body": "로컬 테스트 성공!"}'
```

## 🔧 문제 해결

### MongoDB 연결 오류
- MongoDB가 설치되지 않아도 임시 사용자 데이터로 테스트 가능
- 서버 시작 시 "📝 Mock DB 모드를 사용합니다." 메시지 확인

### 404 오류
- 루트 경로(`/`)가 `/login`으로 리다이렉트됨
- 정상적인 동작입니다

### 푸시 알림이 안 뜨는 경우
1. **로그인 확인**: localStorage에 `access_token`이 있는지 확인
2. **브라우저 권한**: 알림 권한이 허용되었는지 확인
3. **개발자 도구**: 콘솔에서 오류 메시지 확인

## 📋 체크리스트
- [ ] 서버 실행 (포트 5001)
- [ ] 로그인 페이지 접속
- [ ] 회원가입/로그인 성공
- [ ] 메인 페이지에서 푸시 모달 표시
- [ ] 알림 권한 허용
- [ ] 구독 완료 메시지 확인
- [ ] 관리자 알림 발송 테스트
